# PostgreSQL Configuration File

# Habilitar SSL para cifrado de conexiones
# ssl = on
# ssl_cert_file = '/etc/ssl/certs/server.crt'
# ssl_key_file = '/etc/ssl/private/server.key'
# ssl_ca_file = '/etc/ssl/certs/ca.crt'

# Habilitar la autenticación SCRAM
# Esto proporciona un alto nivel de seguridad en la autenticación de usuarios
# host    all             all             0.0.0.0/0               scram-sha-256
# host    all             all             ::/0                    scram-sha-256

# Log de actividades (auditoría) para registro de conexiones, sentencias y errores
log_statement = 'all'           # Registra todas las sentencias SQL ejecutadas
log_duration = on               # Registra la duración de las consultas
log_connections = on            # Registra todas las conexiones
log_disconnections = on         # Registra las desconexiones
log_error_verbosity = verbose   # Proporciona más información sobre los errores

# Restricción de acceso
# Limitar el acceso por direcciones IP (ajustar según tu red)
# Ejemplo para solo permitir conexiones desde una red local 192.168.1.0/24:
# host    all             all             192.168.1.0/24        scram-sha-256

# Configuraciones adicionales de seguridad
max_connections = 100
shared_buffers = 128MB
effective_cache_size = 512MB
work_mem = 16MB
maintenance_work_mem = 64MB

# Desactivar funciones que no se utilizan para reducir la superficie de ataque
# shared_preload_libraries = 'pg_stat_statements'  # Carga solo lo necesario
